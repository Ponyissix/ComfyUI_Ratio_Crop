# 全面升级：百分比冗余、交互优化与加载修复

用户在之前的基础上增加了一个重要需求：**将冗余（Padding）从固定像素改为百分比**。这非常合理，因为对于小图来说，固定 200px 可能直接把整张图都包进去了。

## 综合实施计划

### 1. 冗余单位变更 (Padding to Percentage)
*   **UI 更新**：将“冗余(px)”标签改为“冗余(%)”，默认值设为 **10** (即 10%)。
*   **计算逻辑 (`autoCropFromMask`)**：
    *   先计算出主体 Mask 的原始包围盒 (Box)。
    *   计算长边或短边（通常取长边或 `max(w, h)`）的 10% 作为像素 Padding。
    *   应用这个像素值去扩展包围盒。

### 2. 画布缩放与平移 (Zoom & Pan)
*   **缩放 (Wheel)**：
    *   支持以鼠标指针为中心的缩放。
    *   限制最小/最大缩放比例（例如 0.1x 到 5x）。
*   **平移 (Pan)**：
    *   **空格键逻辑**：当按下空格键时，鼠标变为抓手图标，此时拖拽画布会平移视图，而不是绘制。
    *   **中键支持**：鼠标中键拖拽也触发平移。

### 3. 修复画笔“死点” (Fix Dead Spots)
*   **边界钳制 (Clamping)**：在 `getImgPos` 中，强制将返回坐标限制在 `[0, img.width]` 和 `[0, img.height]` 范围内。这能防止因浮点数误差导致坐标落在 `-1` 或 `width+1` 等无效位置，从而导致 `lineTo` 失效。

### 4. 增强粘贴图片加载 (Robust Loading)
*   **重试机制**：
    *   当加载失败时，依次尝试 `input` -> `temp` -> `output` 目录。
    *   这对粘贴的图片特别有用，因为它们有时在 `temp`，有时可能被某些工作流归类到其他地方。

## 详细步骤
1.  **修改 `js/crop_ui.js`**：
    *   更新 Padding UI 和默认值。
    *   修改 `autoCropFromMask` 算法，实现百分比计算。
    *   添加 `wheel` 事件监听器。
    *   添加全局 `keydown/keyup` 监听空格键状态。
    *   重构 `loadImage` 为多步尝试。
    *   修改 `getImgPos` 增加坐标 Clamp。

请确认执行。